<section id="product-info" *ngIf="singleProduct">
  <div class="item-image-parent">
    <!-- Thumbnails Section -->
    <div class="item-list-vertical">
      <div
        class="thumb-box"
        *ngFor="let image of singleProductImages"
        (click)="changeMainImage(image.imageUrl)"
      >
        <img [src]="getImageUrl(image.imageUrl)" alt="thumbnail" />
      </div>
    </div>

    <!-- Main Image with Zoom Feature -->
    <div class="item-image-main" (mousemove)="onMouseMove($event)" (mouseleave)="onMouseLeave()">
      <img class="zoom-image" [src]="mainImageUrl" alt="{{ singleProduct?.productName }}" />
    </div>

    <!-- Zoom Result Container -->
    <div class="zoom-result" *ngIf="isZooming">
      <div
        class="zoomed-image"
        [ngStyle]="{
          backgroundImage: 'url(' + mainImageUrl + ')',
          backgroundPosition: backgroundPosition,
          backgroundSize: backgroundSize
        }"
      ></div>
    </div>
  </div>

  <div class="item-info-parent">
    <div class="main-info">
      <h4>{{ singleProduct?.productName }}</h4>
      <div style="display: flex; gap: 10px">
        <p>
          Price: <span id="price">₹ {{ singleProductDetails[0]?.discountPrice }}</span>
        </p>
        <del *ngIf="singleProductDetails[0]?.price">
          <p>
            Original Price: <span id="price">₹ {{ singleProductDetails[0]?.price }}</span>
          </p>
        </del>
      </div>

      <div style="display: flex; gap: 10px">
        <button *ngIf="!isProductInCartFlag" class="add-to-cart-btn" (click)="addToCart()">
          <i class="ri-shopping-cart-2-line"></i> Add to Cart
        </button>
        <button *ngIf="isProductInCartFlag" class="add-to-cart-btn" (click)="goToCart()">
          <i class="ri-shopping-cart-2-line"></i> Go to Cart
        </button>
        <button class="add-to-cart-btn" (click)="buyNow()">Buy Now</button>
      </div>
    </div>

    <div class="select-items">
      <div class="description">
        <ul>
          <li [innerHTML]="singleProduct?.description" style="position: relative; right: 20px"></li>
        </ul>
      </div>
    </div>
  </div>
</section>

<!-- Related Products Section -->
<section id="related-products" *ngIf="relatedProducts.length > 0">
  <h3>Related Products</h3>
  <div class="related-products-container">
    <div class="related-product-item" *ngFor="let product of relatedProducts" (click)="viewProduct(product.productId)">
      <div class="related-product-image">
        <img [src]="getImageUrl(product.imageUrl)" alt="{{ product.productName }}" />
      </div>
      <div class="related-product-info">
        <h4>{{ product.productName }}</h4>
        <p>Price: ₹{{ product.discountPrice }}</p>
        <p>Original Price: ₹{{ product.price }}</p>
      </div>
    </div>
  </div>
</section>

<!-- If no related products are available -->
<section *ngIf="relatedProducts.length === 0">
  <p>No related products available.</p>
</section>
